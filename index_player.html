<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
	<meta charset="UTF-8" />
        <title>HTML5 Video Preloader Prototype</title>
	<link rel="stylesheet" href="css/normalize.css" type="text/css">
	<link rel="stylesheet" href="css/main.css" type="text/css">
	<link rel="stylesheet" href="css/vidplayer.css" type="text/css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="js/modernizr.custom.03694.js"></script>
<!--    <script src="js/preloader.js"></script> -->

</head>

<body>
    <header>
          HTML5 VIDEO PRELOADER PROTOYPE FTVW!
    </header>

<div class="center">
    <figure id="video_player">
        <video poster="images/waterfall.png">
            <source src="videos/01-16s_h264.mov" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <figcaption>
            <a href="videos/01-16s_h264.mov"><img src="images/waterfall.png" alt="Video 1"></a>
            <a href="videos/02-18s_h264.mov"><img src="images/tree.png" alt="video 2"></a>
        </figcaption>
    </figure>
</div> <!-- end center -->


	<!-- run javascript after page has loaded -->
	<!-- <script src="js/vidplayer.js"></script> -->
<script>
// borrowed from:
// http://demosthenes.info/blog/792/Create-A-Simple-HTML5-Video-Playlist

var videoPlayer = document.getElementById("video_player");
var links = videoPlayer.getElementsByTagName('a');

for(var i=0; i < links.length; i++){
    links[i].onclick = handler;
}

function handler(e){
    e.preventDefault();
    videoTarget = this.getAttribute("href");
    filename = videoTarget.substr(0, videoTarget.lastIndexOf('.')) || videoTarget;
    video = document.querySelector("#video_player video");
    video.removeAttribute("controls");
    video.removeAttribute("poster");
    source = document.querySelectorAll("#video_player video source");
    source[0].src = filename + ".mov";
    video.load();
    video.play();
}

</script>

</body>
</html>
