<!DOCTYPE HTML>
<html>
<head>
	<meta charset="UTF-8" />
    <title>HTML5 Video Preloader Prototype</title>
    <link rel="stylesheet" href="css/normalize.css" type="text/css">
    <link rel="stylesheet" href="css/main.css" type="text/css">
    <link rel="stylesheet" href="css/vidplayer.css" type="text/css">
    <script src="js/libs/modernizr.custom.03694.js"></script>
    <script src="js/libs/jquery-1.11.3.min.js"></script>
    <script src="js/libs/jquery-ui.min.js"></script>
    <!-- video.js -->
    <link href="css/video-js.min.css" rel="stylesheet">
    <script src="js/libs/video.js"></script>

</head>

<body>
    <header>
      HTML5 VIDEO PRELOADER PROTOTYPE
  </header>

  <div class="center">
    <div id="video_player">
        <div id="videos"></div>
    </div> <!-- end center -->
</div><!-- end video_player -->

<form id="myForm" name="myForm">
    <input type="hidden" name="userID">
</form>

<p align="center"><input type="button" name="VideoButton" value="Click to watch the video" onClick="Javascript:DisplayIt(4)"></p>
<p align="center"><input type="button" name="CloseButton" value="Click to close the video" onClick="Javascript:HideIt(4)"></p>


<!-- run javascript after html has loaded -->
<script src="js/preloader.js"></script>

<script language="JavaScript">

function DisplayIt(i){
  $("#video_player").show();
  var vidElement = "video"+i;
  $("#vid"+i).show();
  if($("#vid"+i).attr("data-loaded")=="false"){
    $("#pbar"+i).show(); 
  }
  else{ displayVid(); }

  function displayVid(){
    var newVideo = document.getElementById(vidElement+"_html5_api");
    newVideo.style.display="inline block";
    var theVjs = document.getElementById(vidElement);
    theVjs.style.display="block";
    $("#"+vidElement).addClass("video-js vjs-default-skin");
    videojs(vidElement).play();
   }
}


function HideIt(vindex){
  $("#video_player").hide();
  var vidElement = "video"+vindex;
  $("#vid"+vindex).hide();
  $("#pbar"+vindex).hide();
  var oldVideo = document.getElementById(vidElement);
  // reset to beginning 
  videojs(vidElement).pause();
  videojs(vidElement).currentTime(0);
  $("#"+vidElement).removeClass("video-js vjs-default-skin");
}

</script>
</body>
</html>
